// .vscode/tasks.json
{
    "version": "2.0.0",
    "tasks": [

        // ================== GCC ==================
        {
            "label": "Build Hybrid Crypto (GCC)",
            "type": "shell",
            "command": "C:\\msys64\\mingw64\\bin\\g++.exe",
            "args": [
                "-std=c++17",
                "-o", "${fileDirname}\\hybrid_gcc.exe",
                "${file}",
                "-I", "D:\\open\\openssl-msvc\\include",
                "-I", "D:\\open\\liboqs\\include",
                "-L", "D:\\open\\openssl-msvc\\lib",
                "-L", "D:\\open\\liboqs\\build\\lib\\Release",
                "-lssl", "-lcrypto", "-loqs",
                "-lws2_32", "-lcrypt32", "-luser32"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": ["$gcc"]
        },

        // ================== CLANG ==================
        {
            "label": "Build Hybrid Crypto (Clang)",
            "type": "shell",
            "command": "C:\\msys64\\mingw64\\bin\\clang++.exe",
            "args": [
                "-std=c++17",
                "-o", "${fileDirname}\\hybrid_clang.exe",
                "${file}",
                "-I", "D:\\open\\opensslcl\\include",
                "-I", "D:\\open\\liboqs\\include",
                "-L", "D:\\open\\opensslcl\\lib64",
                "-L", "D:\\open\\liboqs\\build\\lib\\Release",
                "-lssl", "-lcrypto", "-loqs",
                "-lws2_32", "-lcrypt32", "-luser32"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "group": {
                "kind": "build"
            },
            "problemMatcher": ["$gcc"]
        },

        // ================== MSVC ==================
        {
            "label": "Build Hybrid Crypto (MSVC)",
            "type": "shell",
            "command": "C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Tools\\MSVC\\14.44.35207\\bin\\Hostx64\\x64\\cl.exe",
            "args": [
                "/EHsc",
                "/std:c++17",
                "/I", "D:\\open\\openssl-msvc\\include",
                "/I", "D:\\open\\liboqs\\include",
                "${file}",
                "/link",
                "/LIBPATH:D:\\open\\openssl-msvc\\lib",
                "/LIBPATH:D:\\open\\liboqs\\lib\\Release",
                "libssl.lib",
                "libcrypto.lib",
                "oqs.lib",
                "ws2_32.lib",
                "crypt32.lib",
                "user32.lib",
                "/OUT:${fileDirname}\\hybrid_msvc.exe"
            ],
            "options": {
                "cwd": "${fileDirname}",
                "env": {
                    "INCLUDE": "C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Tools\\MSVC\\14.44.35207\\include;D:\\open\\liboqs\\include;D:\\open\\openssl-msvc\\include",
                    "LIB": "C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Tools\\MSVC\\14.44.35207\\lib\\x64;D:\\open\\liboqs\\lib\\Release;D:\\open\\openssl-msvc\\lib"
                }
            },
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": ["$msCompile"]
        }
    ]
}
